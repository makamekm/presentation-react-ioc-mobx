import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import "prismjs/components/prism-tsx";
import "prismjs/components/prism-jsx";
import { github, vsDark } from "@code-surfer/themes";
export const theme = vsDark;
import { Appear, Image } from 'mdx-deck'

import EffectImage from "./components/image.tsx";
import Panel from "./components/panel.tsx";
import BigPanel from "./components/big-panel.tsx";
import BigBadge from "./components/big-badge.tsx";
import Badge from "./components/badge.tsx";
import VeryBigBadge from "./components/very-big-badge.tsx";
import OnAppear from "./components/on-appear.tsx";
import Formula from "./components/formula.tsx";
import { loadingSpinner } from "./components/terminal.tsx";
import MobxPingPong from "./examples/mobx-redux/mobx-app.jsx";

import Terminal from './components/terminal/index';

<OnAppear fade particles logo align="left">

<VeryBigBadge>
  Prototyping & React
</VeryBigBadge>

> How to make apps fast?

<Formula>> __</Formula>

</OnAppear>

---

<OnAppear fade particles logo>

<BigBadge>
  Theory - Tools - Examples
</BigBadge>

</OnAppear>

---

<OnAppear fade particles logo>

<Panel>
  How to make applications faster?
</Panel>

<Appear>
  <OnAppear fade>
    <div style={{textAlign: 'center'}}>
      <BigPanel style={{display: 'inline-block'}} color="#2ECC71">
        Motivation & Comfort
      </BigPanel>
      <Panel>
        Let me prove...
      </Panel>
    </div>
  </OnAppear>
</Appear>

</OnAppear>

---

<OnAppear fade particles logo>

<EffectImage src="circle.png" title="Development circle"/>

</OnAppear>

---

<OnAppear fade particles logo>

<BigBadge>
  What is the project speed?
</BigBadge>

</OnAppear>

---

<OnAppear fade particles logo>

<EffectImage src="friction.png" title="Neuton explanation"/>

</OnAppear>

---

<OnAppear fade particles logo>

<BigBadge>
  Project Speed
</BigBadge>

<Formula style={{marginTop: "20px"}}>
  V = (Ideas) / (Delta t) - underset(Friction)(F)
</Formula>

</OnAppear>

---

<OnAppear fade particles logo>

<EffectImage src="brain.jpg" title="BRAIN"/>

</OnAppear>

---

<OnAppear fade particles logo style={{textAlign: "center"}}>

<BigBadge>
  DELAY
</BigBadge>

<BigPanel color="#2ECC71" style={{marginTop: "10px"}}>Instincts (N ms)</BigPanel> + <BigPanel color="#4591EA">Emotions (10 * N)</BigPanel> + <BigPanel>Reason (100 * N)</BigPanel>

</OnAppear>

---

<OnAppear fade particles logo>

<EffectImage src="factors.png" title="7 motivation factors"/>

</OnAppear>

---

<OnAppear fade particles logo>

<Panel>
  Conclusion?
</Panel>

<Appear>
  <OnAppear fade>
    <div style={{textAlign: 'center'}}>
      <BigPanel style={{display: 'inline-block'}} color="#2ECC71">
        The highest importance <br/>is<br/> Architecture & Tools
      </BigPanel>
      <BigPanel style={{display: 'inline-block', marginLeft: "20px"}}>
        Developers <br/>are<br/> Users
      </BigPanel>
    </div>
  </OnAppear>
</Appear>

</OnAppear>

---

<OnAppear fade particles logo>

<Panel>
  So, how to make applications faster?
</Panel>

</OnAppear>

---

<OnAppear fade particles logo>

<div style={{marginBottom: "20px"}}><b>Prototyping issues</b></div>

<Badge>
  * Code refactoring *<br/>
  <sub>- To be fixed with <b>TypeScript</b> -</sub>
</Badge>

<Badge>
  * Structure refactoring *<br/>
  <sub>- To be fixed with <b>Flux Pattern</b> -</sub>
</Badge>

<Badge>
  * Finding objects *<br/>
  <sub>- To be fixed with <b>Flat Structure</b> -</sub>
</Badge>

</OnAppear>

---

Let's make some conclusions...

---

<OnAppear fade particles logo align="left">

<Panel>
  Architecture should be <span style={{color: "#2ECC71"}}>Findable</span>
</Panel>

- /shared-components (inputs, buttons, panels, etc.) <span style={{color: "#2ECC71"}}>Useful</span>
- /components (application parts) <span style={{color: "#2ECC71"}}>Findable</span>
- /pages (routing) <span style={{color: "#2ECC71"}}>Findable</span>
- /services (dependency injection) <span style={{color: "#2ECC71"}}>Usable</span>

</OnAppear>

---

<OnAppear fade particles logo>

<Panel>
  Styles
</Panel>

Should be <b>incapsulated</b> inside components <span style={{color: "#2ECC71"}}>Findable</span>

</OnAppear>

---

<OnAppear fade particles logo>

<Panel>
  TypeScript only
</Panel>

Strict types solve <span style={{color: "#2ECC71"}}>Findable, Credible</span> issues

> even "any" is better than nothing 

</OnAppear>

---

<OnAppear fade particles logo>

<Panel>
  Application State
</Panel>

Global state solves <span style={{color: "#2ECC71"}}>Findable, Credible, Useful, Usable</span> issues

> Flux came from ECS (Entity - Component - System Pattern)

</OnAppear>

---

<OnAppear fade particles logo>

<Panel>
  What is the formula?
</Panel>

<Appear>
  <OnAppear fade>
    <div style={{textAlign: 'center'}}>
      <BigPanel color="#2ECC71">
        Gatsby + React + IOC + MOBX
      </BigPanel>
    </div>
  </OnAppear>
</Appear>

</OnAppear>

---

<OnAppear fade particles logo>

| Base | Alternative |
| --- | --- |
| <BigPanel color="#2ECC71">React</BigPanel> | <BigPanel>Vue</BigPanel> |
| <BigPanel color="#2ECC71">Gatsby</BigPanel> | <BigPanel>NextJS</BigPanel> |
| <BigPanel color="#2ECC71">IOC + MobX</BigPanel> | <BigPanel>Redux Observable</BigPanel> |

</OnAppear>

---

<OnAppear fade particles logo>

## Why not VueJS?

<Badge>It doesn't support TypeScript</Badge>

</OnAppear>

---

<OnAppear fade particles logo>

## Why not Redux?

<div>
  <Badge>Let's Compare Ping Pong App:</Badge>
  <sub>It sets "is pinging" in 1 second to true</sub>

  <div style={{marginTop: "50px", borderRadius: "10px", border: "1px solid rgba(255, 255, 255, 0.5)", padding: "10px"}}>
    <MobxPingPong/>
  </div>
</div>

</OnAppear>

---

<OnAppear fade particles logo width="100vw" align="left">

<CodeSurferColumns>

  <Step>

  ```jsx subtitle="Mobx" file=./examples/mobx-redux/mobx.jsx
  ```

  ```jsx subtitle="Redux" file=./examples/mobx-redux/redux.jsx
  ```

  </Step>

  <Step subtitle="Storage">

  ```jsx 1:12 file=./examples/mobx-redux/mobx.jsx
  ```

  ```jsx 1:24 file=./examples/mobx-redux/redux.jsx
  ```

  </Step>

  <Step subtitle="Component">

  ```jsx 14:29 file=./examples/mobx-redux/mobx.jsx
  ```

  ```jsx 26:40 file=./examples/mobx-redux/redux.jsx
  ```

  </Step>

  <Step subtitle="Injection">

  ```jsx 20 file=./examples/mobx-redux/mobx.jsx
  ```

  ```jsx 30,37:40 file=./examples/mobx-redux/redux.jsx
  ```

  </Step>

  <Step subtitle="Rendering">

  ```jsx 23:24 file=./examples/mobx-redux/mobx.jsx
  ```

  ```jsx 32:33 file=./examples/mobx-redux/redux.jsx
  ```

  </Step>

  <Step subtitle="Provider">

  ```jsx 31:37,42:44 file=./examples/mobx-redux/mobx.jsx
  ```

  ```jsx 42:53,57:59 file=./examples/mobx-redux/redux.jsx
  ```

  </Step>

</CodeSurferColumns>

</OnAppear>

---

<OnAppear fade particles logo width="100vw" align="left">

<CodeSurfer>

  ```jsx 5:12 subtitle="React IOC" file=./examples/mobx-redux/mobx.jsx
  ```

  ```jsx 16:29 subtitle="Mobx" file=./examples/mobx-redux/mobx.jsx
  ```

</CodeSurfer>

</OnAppear>

---

<OnAppear fade particles logo>

<div style={{marginBottom: "20px"}}><b>Conclusion?</b></div>

<div style={{display: 'flex', flexDirection: 'row', textAlign: 'left', width: "100%", justifyContent: "center"}}>
  <Badge>
    Mobx<br/>
    <BigPanel style={{marginTop: '20px'}} color="#2ECC71">+ <b>Simple</b></BigPanel>
    <BigPanel style={{marginTop: '20px'}} color="#2ECC71">+ <b>Mutable</b></BigPanel>
  </Badge>

  <Badge>
    Redux<br/>
    <BigPanel style={{marginTop: '20px'}}>- <b>Complex</b></BigPanel>
    <BigPanel style={{marginTop: '20px'}}>- <b>Immutable</b></BigPanel>
  </Badge>
</div>

> It's hard to build logic between multiple immutable objects

</OnAppear>

---

<OnAppear fade particles logo>

## 1/2 Questions?

<Badge>Before going further...</Badge>

</OnAppear>

---

<OnAppear fade particles logo>

## Why not NextJS?

<Badge>Let's compare their homepages...</Badge>

</OnAppear>

---

<OnAppear fade particles logo>

<EffectImage src="nextjs-homepage.png" title="NextJS Homepage"/>

</OnAppear>

---

<OnAppear fade particles logo>

<EffectImage src="gatsby-homepage.png" title="Gatsby Homepage"/>

</OnAppear>

---

<OnAppear fade particles logo align="left">

<BigPanel color="#2ECC71">
  + Gatsby static by default<br/>
  + Gatsby can be used with any provider<br/>
  + Gatsby is for large or small apps<br/>
  + Gatsby has templates
</BigPanel>

<BigPanel style={{marginTop: "20px"}}>
  + NextJS isomorphic by default<br/>
  - NextJS can be used only for Zeit provider<br/>
  - NextJS is for small apps<br/>
  - NextJS hasn't templates
</BigPanel>

</OnAppear>

---

<OnAppear fade particles logo>

**How to start with Gatsby?**

<div>
  <Terminal
    height={400}
    lines={[
      {
        'text': 'npm install -g gatsby-cli',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Installing...',
        onLoad: 'Gatsby has been installed!!',
        }),
      {
        'text': 'gatsby new todo-app https://github.com/makamekm/gatsby-starter-typescript-ioc-mobx',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Initializing...',
        onLoad: 'Your app has been initialized!',
      }),
      {
        'text': 'cd todo-app',
        'cmd': true,
      },
      {
        'text': 'npm run dev',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Compiling...',
        onLoad: 'Your app is ready at http://localhost:8000/',
      }),
      {
        'text': '',
      },
      {
        'text': '~~~ You are ready to go! ~~~',
      },
    ]}
    interval={20}
  />
</div>

</OnAppear>

---

<OnAppear fade particles logo>

**How to deploy your app?**

<div>
  <Terminal
    height={400}
    lines={[
      {
        'text': 'npm install -g now',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Installing...',
        onLoad: 'NowJS has been installed!!',
        }),
      {
        'text': 'now',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Deploying...',
        onLoad: 'Your app is ready at http://todoapp.me.zeit.com/',
      }),
    ]}
    interval={20}
  />
</div>

</OnAppear>

---

<OnAppear fade particles logo>

# Code Time!

</OnAppear>

---

<OnAppear fade particles logo>

<div>
  <Badge>Let's make a todo app:</Badge>
  <sub>We have to implement Input and List of TODOs</sub>

  <div style={{marginTop: "50px", borderRadius: "10px", border: "1px solid rgba(255, 255, 255, 0.5)", padding: "10px"}}>
    <MobxPingPong/>
  </div>
</div>

</OnAppear>

---

<OnAppear fade logo>

<CodeSurfer>

```tsx 1 subtitle="Import React" file=./components/panel.tsx
```

```tsx 10:17 subtitle="Use incapsulated styles" file=./components/panel.tsx
```

</CodeSurfer>

</OnAppear>

---

<OnAppear fade particles logo>

# Final Questions?

</OnAppear>

---

<OnAppear fade particles logo>

<EffectImage src="yoda.jpg" title="Thank you!"/>

</OnAppear>
