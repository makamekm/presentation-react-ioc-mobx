import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import "prismjs/components/prism-tsx";
import "prismjs/components/prism-jsx";
import { github, vsDark } from "@code-surfer/themes";
export const theme = vsDark;
import { Appear, Image } from 'mdx-deck'

import Layout from "./components/layout.tsx";
import EffectImage from "./components/image/index.tsx";
import Panel from "./components/panels/panel.tsx";
import BigPanel from "./components/panels/big-panel.tsx";
import BigBadge from "./components/panels/big-badge.tsx";
import Badge from "./components/panels/badge.tsx";
import VeryBigBadge from "./components/panels/very-big-badge.tsx";
import Formula from "./components/formula.tsx";
import Terminal, { loadingSpinner } from './components/terminal/index.jsx';

import Button from "./examples/style/button.tsx";
import MobxPingPong from "./examples/mobx-redux/mobx-app.jsx";
import TodoAppLayout from "./examples/todo/layouts/index.tsx";
import TodoAppPage from "./examples/todo/pages/index.tsx";

<Layout fade particles logo align="left">

<VeryBigBadge>
  Chosing Project Technology
</VeryBigBadge>

> For developing a Chrome extension

<Formula>> __</Formula>

</Layout>

---

<Layout fade particles logo>

<BigBadge>
  Requirements - Canditates - Detailes
</BigBadge>

<h3>
  # Plan
</h3>

</Layout>

---

<Layout fade particles logo>

# Requirements

</Layout>

---

<Layout fade particles logo>

<Panel>
  Requirements
</Panel>

<div style={{display: 'flex', fontSize: "90%", flexDirection: 'column', textAlign: 'left', width: "100%", justifyContent: "center"}}>
  <div style={{fontWeight: 800}}>
    1. Chrome Extension [content_scripts, popup, newtab, options, background]
  </div>
  <div style={{fontWeight: 800, marginTop: "20px"}}>
    2. TypeScript to make an application credible
  </div>
  <div style={{fontWeight: 800, marginTop: "20px"}}>
    3. Testing
  </div>
  <div style={{fontWeight: 800, marginTop: "20px"}}>
    4. Not a single page application
  </div>
</div>

</Layout>

---

<Layout fade particles logo>

# Candidates

</Layout>

---

<Layout fade particles logo>

<Panel>
  Candidates
</Panel>

<div style={{display: 'flex', fontSize: "90%", flexDirection: 'column', textAlign: 'left', width: "100%", justifyContent: "center"}}>
  <div style={{fontWeight: 800}}>
    1. Angular
  </div>
  <div style={{fontWeight: 800, marginTop: "20px"}}>
    2. Vue
  </div>
  <div style={{fontWeight: 800, marginTop: "20px"}}>
    3. React
  </div>
</div>

</Layout>

---

<Layout fade particles logo>

<Panel>
  Angular
</Panel>

<div style={{display: 'flex', fontSize: "90%", flexDirection: 'column', textAlign: 'left', width: "100%", justifyContent: "center"}}>
  <div style={{}}>
    <BigPanel color="#2ECC71">
      + All-in-one<br/>
      + RJ infrastructure<br/>
      + Bolt framework<br/>
      + Incapsulated styles
    </BigPanel>
  </div>
  <div style={{marginTop: "20px"}}>
    <BigPanel>
      - Does not work in "content_scripts"<br/>
      - Initialization speed<br/>
      - Huge bundle size<br/>
      - Single page app build<br/>
      - Complex infrastructure
    </BigPanel>
  </div>
</div>

</Layout>

---

<Layout fade particles logo>

<Panel>
  VueJS
</Panel>

<div style={{display: 'flex', fontSize: "90%", flexDirection: 'column', textAlign: 'left', width: "100%", justifyContent: "center"}}>
  <div style={{}}>
    <BigPanel color="#2ECC71">
      + VanilaJS<br/>
      + Quick initialization<br/>
      + Incapsulated styles
    </BigPanel>
  </div>
  <div style={{marginTop: "20px"}}>
    <BigPanel>
      - Does not support TypeScript<br/>
      - Community from China<br/>
      - Middle bundle size<br/>
      - Single page app build<br/>
      - No testing frameworks
    </BigPanel>
  </div>
</div>

</Layout>

---

<Layout fade particles logo>

<Panel>
  React
</Panel>

<div style={{display: 'flex', fontSize: "90%", flexDirection: 'column', textAlign: 'left', width: "100%", justifyContent: "center"}}>
  <div style={{}}>
    <BigPanel color="#2ECC71">
      + Easy to use<br/>
      + Easy to test<br/>
      + Light bundle size<br/>
      + The most popular framework<br/>
      + The largest community<br/>
      + TypeScript
    </BigPanel>
  </div>
  <div style={{marginTop: "20px"}}>
    <BigPanel>
      - Requires build framework<br/>
      - Raw engine<br/>
      - Requires additional libraries (StyleJSX, ...)
    </BigPanel>
  </div>
</div>

</Layout>

---

<Layout fade particles logo>

# Detailed VueJS vs React

</Layout>

---

<Layout fade particles logo align="left">

<Panel>
  React & VueJS Architecture
</Panel>

- /components (application components)
- /pages (routing)
- /services or /stores (state)

</Layout>

---

<Layout fade particles logo>

<Panel>
  TypeScript
</Panel>

> Even "any" is better than nothing

<div style={{fontSize: "65%", marginTop: "20px", textAlign: "left"}}>
  1. VueJS has lots of issues with TypeScript<br/>
  2. React supports TypeScript & typing-by-default
</div>

</Layout>

---

<Layout fade particles logo>

<Panel>
  Application State (Flux)
</Panel>

Vue & React don't have Application State

[**Redux** or **MobX**]

</Layout>

---

<Layout fade particles logo>

<EffectImage src="trendings.png" title="USA Trendings"/>

</Layout>

---

<Layout fade particles logo>

<EffectImage src="trendings-world.png" title="Global Trendings"/>

</Layout>

---

<Layout fade particles logo>

<EffectImage src="size-compare.png" title="Bundle size"/>

</Layout>

---

<Layout fade particles logo>

<Panel>
  Styles (StyleJSX library)
</Panel>

<div>
  Styles can be incapsulated inside components in Vue & React
  <br/>
  <sub>Vue does not allow to change styles programmatically</sub>
  <br/>
  <br/>
  <Button>I am a button!</Button>
</div>

https://github.com/zeit/styled-jsx

</Layout>

---

<Layout fade logo width="100vw" align="left">

<CodeSurferColumns>

  <Step>

  ```jsx subtitle="React" file=./examples/style/button.tsx
  ```

  ```html subtitle="VueJS"
  <template>
    <div class="button"></div>
  </template>

  <style scoped>
    .button {
      display: inline-block;
      cursor: pointer;
      user-select: none;
      padding: 10px;
      color: #333;
      background-color: rgba(150, 220, 220, 1);
      border-radius: 5px;
      transition: background-color 0.1s, color 0.1s, opacity 0.1s;
    }

    .button:hover {
      color: #fff;
      background-color: rgba(0, 0, 0, 0.8);
    }

    .button:active {
      opacity: 0.6;
    }
  </style>
  ```

  </Step>

</CodeSurferColumns>

</Layout>

---

<Layout fade particles logo>

**How to start extension development**

<div>
  <Terminal
    height={500}
    lines={[
      {
        'text': 'npm install -g gatsby-cli',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Installing...',
        onLoad: 'Gatsby has been installed!',
        }),
      {
        'text': 'gatsby new todo-app https://github.com/makamekm/gatsby-starter-typescript-ioc-mobx-chrome-extension',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Initializing...',
        onLoad: 'Your app has been initialized!',
      }),
      {
        'text': 'cd todo-app',
        'cmd': true,
      },
      {
        'text': 'npm run start',
        'cmd': true,
      },
      loadingSpinner({
        onLoading: 'Compiling...',
        onLoad: 'Your app is ready at http://localhost:8000/',
      }),
      {
        'text': '',
      },
      {
        'text': '~~~ You are ready to go! ~~~',
      },
    ]}
    interval={20}
  />
</div>

</Layout>

---

<Layout fade particles logo>

# Questions?

</Layout>

---

<Layout fade particles logo>

<EffectImage src="yoda.jpg" title="Thank you!"/>

</Layout>

---

<Layout fade particles logo>

# Coding Time!

</Layout>

---

<Layout fade particles logo width="100vw">

<div>
  <Badge>Let's look at the to-do app:</Badge>
  <sub>We have to implement an input field and a list of TODOs</sub>

  <div style={{marginTop: "50px"}}>
    <TodoAppLayout>
      <TodoAppPage/>
    </TodoAppLayout>
  </div>
</div>

</Layout>

---

<Layout fade particles logo>

<EffectImage src="structure.png" title="Project structure"/>

</Layout>

---

<Layout fade logo width="100vw" align="left">

<CodeSurfer>

  ```tsx 6 subtitle="Register Service" file=./examples/todo/libs/root.services.dict.ts
  ```

  ```tsx 6[93:103] subtitle="Register TODO Service" file=./examples/todo/libs/root.services.dict.ts
  ```

  ```tsx subtitle="TODO Service" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 7:11 subtitle="TODO Service [Todo interface]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 14:20 subtitle="TODO Service [Observable]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 24:47 subtitle="TODO Service [useHook Constructor]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 22,25:26 subtitle="TODO Service [Injection]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 49:51 subtitle="TODO Service [Computed]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 57:65 subtitle="TODO Service [Add todo - Action]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 67:72 subtitle="TODO Service [Toggle todo - Action]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx 74:78 subtitle="TODO Service [Remove todo - Action]" file=./examples/todo/services/todo.service.ts
  ```

  ```tsx subtitle="Index Page" file=./examples/todo/pages/index.tsx
  ```

  ```tsx subtitle="Todo Component" file=./examples/todo/components/todo-root.tsx
  ```

  ```tsx 9:11 subtitle="Todo Component" file=./examples/todo/components/todo-root.tsx
  ```

  ```tsx 7:26 subtitle="Input" file=./examples/todo/components/input.tsx
  ```

  ```tsx 7 subtitle="Input [Injecting]" file=./examples/todo/components/input.tsx
  ```

  ```tsx 8:10,24[19:30] subtitle="Input [OnChange]" file=./examples/todo/components/input.tsx
  ```

  ```tsx 11:16,25[20:28] subtitle="Input [OnAdd]" file=./examples/todo/components/input.tsx
  ```

  ```tsx 26 subtitle="Input [Value]" file=./examples/todo/components/input.tsx
  ```

  ```tsx 6,9:14,18:24 subtitle="List" file=./examples/todo/components/list.tsx
  ```

  ```tsx 9:15,19:25 subtitle="Item" file=./examples/todo/components/todo.tsx
  ```

  ```tsx 9:15 subtitle="Item [Hooks]" file=./examples/todo/components/todo.tsx
  ```

  ```tsx 19:25 subtitle="Item [Render]" file=./examples/todo/components/todo.tsx
  ```

  ```tsx 155 subtitle="Item [memo, observe]" file=./examples/todo/components/todo.tsx
  ```

  ```tsx 11:13 subtitle="Footer" file=./examples/todo/components/footer.tsx
  ```

</CodeSurfer>

</Layout>

---

<Layout fade particles logo width="100vw">

<div style={{minWidth: "600px"}}>
  <TodoAppLayout>
    <TodoAppPage/>
  </TodoAppLayout>
</div>

</Layout>
